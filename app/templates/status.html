{% extends "base.html" %}
{% block headblock %}
    <script src="{{ url_for('static', filename='status.js') }}"></script>
{% endblock %}
{% macro dl_table(dl_items, css_class, extra_cols) %}
    <div class="{{css_class}}">
      <table>
        <thead>
          <tr>
            <th>URL</th>
            {% for extra in extra_cols %}
              <th>{{ extra }}</th>
            {% endfor %}
          </tr>
        </thead>
        <tbody>
          {% for j in dl_items %}
          <tr>
            <td>{{j.url|urlize}}</td>
            {% for extra in extra_cols %}
              <th>{{ j[extra] }}</th>
            {% endfor %}
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
{% endmacro %}

{% block content %}
  <h1>Status</h1>
  <h2>Running</h2>
    {{dl_table(context.running, 'dl-running', ['ETA', 'Percent', 'Speed', 'Total Bytes'])}}
  <h2>Queued</h2>
    {{dl_table(context.queued, 'dl-queued', [])}}
  <h2>Done</h2>
    {{dl_table(context.done, 'dl-done', ['Filename', 'Total Bytes'])}}
{%endblock%}